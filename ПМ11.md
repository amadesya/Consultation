## 1НФ
- в каждой таблице должен быть первичный ключ
- в одной ячейке должно быть только одно значение (например, ФИО записывается в каждой отдельной ячейке)
## 2НФ
- первичный ключ из одного столбца
- составной ключ требует проверки, что это 2НФ
- не должно быть не ключевых атрибутов, которые зависят от части ключа
## пример 
таблица товары и таблица заказы — связь многие ко многими. для связи создаётся таблица. заказанный товар со составным ключом

### **таблица: `товар`**

| Поле    | Тип | Ключ | Описание             |
| ------- | --- | ---- | -------------------- |
| товарID | int | PK   | Идентификатор товара |

### **таблица: `заказ`**

| Поле    | Тип | Ключ | Описание             |
| ------- | --- | ---- | -------------------- |
| заказID | int | PK   | Идентификатор заказа |

### **таблица: `заказТовар`**

| Поле       | Тип | Ключ    | Описание                         |
| ---------- | --- | ------- | -------------------------------- |
| товарID    | int | PK, FK1 | Внешний ключ на `товар(товарID)` |
| заказID    | int | PK, FK2 | Внешний ключ на `заказ(заказID)` |
| количество | int |         | Количество товара в заказе       |

> для того, чтобы создать составной ключ в MSSQL нужно зажать SHIFT+ЛКМ по второй строке

- хватит числовых значение int, nvarchar, decimal, bit
- цена до 50к — добавить проверочное ограничение в таблице
- на экзамене нужно представление, скалярная функция, запрос
- в процедуре можно выделить запрос, нажать ПКМ->выполнить запрос в редакторе
- можно вставить фрагмент кода -> функция скалярная 

```sql
---Получение строчек из таблицы
CREATE PROCEDURE FindGame
@title nvarchar(100)
AS
BEGIN
SELECT GameId, CategoryId, Name, Price, Description, IsDeleted, TotalKeys
FROM Game
WHERE (Name @title)
END
```

```sql
---Создание скалярной функции
CREATE FUNCTION [dbo] [GetTitle] 
(
@id int
RETURNS INT
AS
BEGIN
DECLARE @title NVARCHAR(100);
SELECT @title Name
FROM Game
WHERE (GameId = 1)
RETURN @title
END
```


ПКМ по БД-> задачи -> сформировать скрипты. При сохранении нужно нажать дополнить и сохранить 'Схемы и данные '. Сохранить как скрипт
